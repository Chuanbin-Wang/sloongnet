<!--
 * @Author: WCB
 * @Date: 2019-11-14 14:14:34
 * @LastEditors: WCB
 * @LastEditTime: 2019-11-18 17:03:40
 * @Description: file content
 -->
{%extends "base.html" %}
{% load filters_extend %}
{% block mainbody %}


<div class="row clearfix">
    <div class="col-md-3 column"></div>
    <div class="col-md-6 column">
        <form role="form">
            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>配置名称</th>
                        <th>配置值</th>
                    </tr>
                </thead>
                <tbody>

                    {% for key,value in ConfigList.items %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>
                            {% if value.1=='bool' %}
                                <input type="checkbox" name="{{ key }}" {% if value.2 %}checked="checked"{% endif %} >
                            {% elif value.1=='int' %}
                                <input type="number" name="{{ key }}" class="form-control" {% if value.3 %}required="required"{% endif %} value="{{ value.2 }}">
                            {% elif value.1=='str' %}
                                <input type="text" name="{{ key }}" class="form-control" {% if value.3 %}required="required"{% endif %} value="{{ value.2 }}">
                            {% elif value.1=='tuple' %}
                                <select class="form-control" name="{{ key }}">
                                    {% for i in value.4 %}
                                    <option value="{{ i.1 }}" {% if value.2 == i.1 %}selected="selected"{% endif %} >{{ i.0 }}</option>
                                    {% endfor %}
                                </select>
                            {% endif %}
                        </td>
                    </tr>

                    {% endfor %}
                </tbody>
            </table>
            <label id="message"></label>
            <div align="center">
                <button type="submit" class="btn btn-primary">提交</button>
                <button type="button" class="btn btn-default" onclick="history.back()">取消</button>
            </div>
        </form>
    </div>
    <div class="col-md-3 column"></div>
</div>

{% endblock %}

{% block javascript %}
function onload() {
    {% if Response %}
        {% if not Result %}
            history.back()
            var msg = document.getElementById("message")
            msg.innerHTML = {{ Message }}
        {% endif %}
    {% endif %}
}
{% endblock %}